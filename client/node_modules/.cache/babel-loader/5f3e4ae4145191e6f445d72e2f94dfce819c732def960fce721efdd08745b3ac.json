{"ast":null,"code":"var _jsxFileName = \"/Users/davit/Desktop/Asociation/client/src/adminpanel/components/Cars/AddCars.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport CustomEditor from '../CustomEditor/CustomEditor';\nimport Content from '../Content/Content';\nimport Language from '../Content/Language';\nimport CustomInput from '../CustomInput/CustomInput';\nimport UploadWidget from '../UploadWidget/UploadWidget';\nimport getApi from '../../../http/getApi';\nimport { useParams } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddCars() {\n  _s();\n  var _data$body;\n  const [language, setLanguage] = useState('ka');\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState({\n    title: '',\n    body: {\n      en: '',\n      ka: '',\n      ru: ''\n    },\n    price: '100 $',\n    cover: '',\n    fwd: '',\n    kolofi: '',\n    dzravi: ''\n  });\n  useEffect(() => {\n    async function fetchBlog() {\n      if (!id) return;\n      try {\n        const blog = await getApi.getData(`/cars/${id}`);\n        const blogData = blog;\n        console.log(blog);\n        setData(prev => {\n          var _blogData$body, _blogData$body2, _blogData$body3;\n          return {\n            ...prev,\n            ...blogData,\n            body: {\n              en: (blogData === null || blogData === void 0 ? void 0 : (_blogData$body = blogData.body) === null || _blogData$body === void 0 ? void 0 : _blogData$body.en) || '',\n              ka: (blogData === null || blogData === void 0 ? void 0 : (_blogData$body2 = blogData.body) === null || _blogData$body2 === void 0 ? void 0 : _blogData$body2.ka) || '',\n              ru: (blogData === null || blogData === void 0 ? void 0 : (_blogData$body3 = blogData.body) === null || _blogData$body3 === void 0 ? void 0 : _blogData$body3.ru) || ''\n            }\n          };\n        });\n      } catch (err) {\n        console.error('Failed to load blog', err);\n      }\n    }\n    fetchBlog();\n  }, [id]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleEditorChange = (section, name, value) => {\n    setData(prev => ({\n      ...prev,\n      [section]: {\n        ...prev[section],\n        [name]: value\n      }\n    }));\n  };\n  const submit = async () => {\n    try {\n      if (id) {\n        // ედიტირება\n        console.log(data);\n        await getApi.putData(`/cars/${id}`, data);\n        alert('ბლოგი წარმატებით განახლდა');\n      } else {\n        // დამატება\n        await getApi.postData('/cars', data);\n        alert('ბლოგი წარმატებით დაემატა');\n      }\n    } catch (error) {\n      alert('დაფიქსირდა შეცდომა');\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Content, {\n    title: \"\\u10D1\\u10DA\\u10DD\\u10D2\\u10D8\\u10E1 \\u10D3\\u10D0\\u10DB\\u10D0\\u10E2\\u10D4\\u10D1\\u10D0\",\n    language: language,\n    setLanguage: setLanguage,\n    children: [/*#__PURE__*/_jsxDEV(UploadWidget, {\n      title: \"\\u10DB\\u10D7\\u10D0\\u10D5\\u10D0\\u10E0\\u10D8 \\u10E4\\u10DD\\u10E2\\u10DD\",\n      setData: setData,\n      value: data.cover || ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomInput, {\n      title: \"\\u10E1\\u10D0\\u10D7\\u10D0\\u10E3\\u10E0\\u10D8\",\n      type: \"text\",\n      value: data === null || data === void 0 ? void 0 : data.title,\n      name: \"title\",\n      placeholder: \"enter text\",\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomInput, {\n      title: \"\\u10E4\\u10D0\\u10E1\\u10D8\",\n      type: \"text\",\n      value: data === null || data === void 0 ? void 0 : data.price,\n      name: \"price\",\n      placeholder: \"enter text\",\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomInput, {\n      title: \"\\u10EC\\u10D0\\u10DB\\u10E7\\u10D5\\u10D0\\u10DC\\u10D8\",\n      type: \"text\",\n      value: data.fwd || '',\n      name: \"fwd\",\n      placeholder: \"\\u10EC\\u10D0\\u10DB\\u10E7\\u10D5\\u10D0\\u10DC\\u10D8\",\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomInput, {\n      title: \"\\u10D9\\u10DD\\u10DA\\u10DD\\u10E4\\u10D8\",\n      type: \"text\",\n      value: data.kolofi || '',\n      name: \"kolofi\",\n      placeholder: \"\\u10D9\\u10DD\\u10DA\\u10DD\\u10E4\\u10D8\",\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CustomInput, {\n      title: \"\\u10EB\\u10E0\\u10D0\\u10D5\\u10D8\",\n      type: \"text\",\n      value: data.dzravi || '',\n      name: \"dzravi\",\n      placeholder: \"\\u10EB\\u10E0\\u10D0\\u10D5\\u10D8\",\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Language, {\n      lang: language,\n      children: /*#__PURE__*/_jsxDEV(CustomEditor, {\n        section: \"body\",\n        name: language,\n        value: ((_data$body = data.body) === null || _data$body === void 0 ? void 0 : _data$body[language]) || '',\n        onChange: handleEditorChange,\n        title: \"\\u10D0\\u10E6\\u10EC\\u10D4\\u10E0\\u10D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      children: \"\\u10D3\\u10D0\\u10DB\\u10D0\\u10E2\\u10D4\\u10D1\\u10D0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n}\n_s(AddCars, \"iQvZIfV8lMjBHn/woRSdn4LO+vc=\", false, function () {\n  return [useParams];\n});\n_c = AddCars;\nvar _c;\n$RefreshReg$(_c, \"AddCars\");","map":{"version":3,"names":["React","useEffect","useState","CustomEditor","Content","Language","CustomInput","UploadWidget","getApi","useParams","jsxDEV","_jsxDEV","AddCars","_s","_data$body","language","setLanguage","id","data","setData","title","body","en","ka","ru","price","cover","fwd","kolofi","dzravi","fetchBlog","blog","getData","blogData","console","log","prev","_blogData$body","_blogData$body2","_blogData$body3","err","error","handleInputChange","e","name","value","target","handleEditorChange","section","submit","putData","alert","postData","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","onChange","lang","onClick","_c","$RefreshReg$"],"sources":["/Users/davit/Desktop/Asociation/client/src/adminpanel/components/Cars/AddCars.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport CustomEditor from '../CustomEditor/CustomEditor';\nimport Content from '../Content/Content';\nimport Language from '../Content/Language';\nimport CustomInput from '../CustomInput/CustomInput';\nimport UploadWidget from '../UploadWidget/UploadWidget';\nimport getApi from '../../../http/getApi';\nimport { useParams } from 'react-router';\n\nexport default function AddCars() {\n  const [language, setLanguage] = useState('ka');\n  const { id } = useParams();\n\n  const [data, setData] = useState({\n    title: '',\n    body: {\n      en: '',\n      ka: '',\n      ru: '',\n    },\n    price: '100 $',\n    cover: '',\n    fwd: '',\n    kolofi: '',\n    dzravi: ''\n  });\n\n  useEffect(() => {\n    async function fetchBlog() {\n      if (!id) return;\n      try {\n        const blog = await getApi.getData(`/cars/${id}`);\n        const blogData = blog\n\n        console.log(blog)\n\n        setData((prev) => ({\n          ...prev,\n          ...blogData,\n          body: {\n            en: blogData?.body?.en || '',\n            ka: blogData?.body?.ka || '',\n            ru: blogData?.body?.ru || '',\n          },\n        }));\n      } catch (err) {\n        console.error('Failed to load blog', err);\n      }\n    }\n\n    fetchBlog();\n  }, [id]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n\n    setData((prev) => ({\n      ...prev,\n      [name]: value,\n    }));\n  };\n\n  const handleEditorChange = (section, name, value) => {\n    setData((prev) => ({\n      ...prev,\n      [section]: {\n        ...prev[section],\n        [name]: value,\n      },\n    }));\n  };\n\n  const submit = async () => {\n    try {\n      if (id) {\n        // ედიტირება\n        console.log(data)\n        await getApi.putData(`/cars/${id}`, data);\n        alert('ბლოგი წარმატებით განახლდა');\n      } else {\n        // დამატება\n        await getApi.postData('/cars', data);\n        alert('ბლოგი წარმატებით დაემატა');\n      }\n    } catch (error) {\n      alert('დაფიქსირდა შეცდომა');\n      console.error(error);\n    }\n  };\n\n  return (\n    <Content title=\"ბლოგის დამატება\" language={language} setLanguage={setLanguage}>\n      {/* მთავარი ფოტო */}\n      <UploadWidget\n        title=\"მთავარი ფოტო\"\n        setData={setData}\n        value={data.cover || ''}\n      />\n      {/* სათაური */}\n      <CustomInput\n        title=\"სათაური\"\n        type=\"text\"\n        value={data?.title}\n        name=\"title\"\n        placeholder=\"enter text\"\n        onChange={handleInputChange}\n      />\n\n      <CustomInput\n        title=\"ფასი\"\n        type=\"text\"\n        value={data?.price}\n        name=\"price\"\n        placeholder=\"enter text\"\n        onChange={handleInputChange}\n      />\n\n      {/* წამყვანი */}\n      <CustomInput\n        title=\"წამყვანი\"\n        type=\"text\"\n        value={data.fwd || ''}\n        name=\"fwd\"\n        placeholder=\"წამყვანი\"\n        onChange={handleInputChange}\n      />\n\n      {/* კოლოფი */}\n      <CustomInput\n        title=\"კოლოფი\"\n        type=\"text\"\n        value={data.kolofi || ''}\n        name=\"kolofi\"\n        placeholder=\"კოლოფი\"\n        onChange={handleInputChange}\n      />\n\n      {/* ძრავი */}\n      <CustomInput\n        title=\"ძრავი\"\n        type=\"text\"\n        value={data.dzravi || ''}\n        name=\"dzravi\"\n        placeholder=\"ძრავი\"\n        onChange={handleInputChange}\n      />\n\n      {/* აღწერა */}\n      <Language lang={language}>\n        <CustomEditor\n          section=\"body\"\n          name={language}\n          value={data.body?.[language] || ''}\n          onChange={handleEditorChange}\n          title=\"აღწერა\"\n        />\n      </Language>\n\n      {/* გამგზავნობა */}\n      <button onClick={submit}>დამატება</button>\n    </Content>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}