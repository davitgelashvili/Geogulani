{"ast":null,"code":"var _jsxFileName = \"/Users/davit/Desktop/Asociation/client/src/adminpanel/components/Gallery/Add.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport CustomEditor from '../CustomEditor/CustomEditor';\nimport Content from '../Content/Content';\nimport Language from '../Content/Language';\nimport CustomInput from '../CustomInput/CustomInput';\nimport UploadWidget from '../UploadWidget/UploadWidget';\nimport getApi from '../../../http/getApi';\nimport { useParams } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AddGallery() {\n  _s();\n  const [language, setLanguage] = useState('ka');\n  const {\n    id\n  } = useParams();\n  const [data, setData] = useState({\n    title: {\n      en: '',\n      ka: '',\n      ru: ''\n    },\n    desc: {\n      en: '',\n      ka: '',\n      ru: ''\n    },\n    cover: ''\n  });\n  useEffect(() => {\n    async function fetchBlog() {\n      if (!id) return;\n      try {\n        var _blog$title, _blog$title2, _blog$title3, _blog$desc, _blog$desc2, _blog$desc3;\n        const blog = await getApi.getData(`/gallery/${id}`);\n        setData({\n          title: {\n            en: (blog === null || blog === void 0 ? void 0 : (_blog$title = blog.title) === null || _blog$title === void 0 ? void 0 : _blog$title.en) || '',\n            ka: (blog === null || blog === void 0 ? void 0 : (_blog$title2 = blog.title) === null || _blog$title2 === void 0 ? void 0 : _blog$title2.ka) || '',\n            ru: (blog === null || blog === void 0 ? void 0 : (_blog$title3 = blog.title) === null || _blog$title3 === void 0 ? void 0 : _blog$title3.ru) || ''\n          },\n          desc: {\n            en: (blog === null || blog === void 0 ? void 0 : (_blog$desc = blog.desc) === null || _blog$desc === void 0 ? void 0 : _blog$desc.en) || '',\n            ka: (blog === null || blog === void 0 ? void 0 : (_blog$desc2 = blog.desc) === null || _blog$desc2 === void 0 ? void 0 : _blog$desc2.ka) || '',\n            ru: (blog === null || blog === void 0 ? void 0 : (_blog$desc3 = blog.desc) === null || _blog$desc3 === void 0 ? void 0 : _blog$desc3.ru) || ''\n          },\n          cover: (blog === null || blog === void 0 ? void 0 : blog.cover) || ''\n        });\n      } catch (err) {\n        console.error('ბლოგის ჩატვირთვა ვერ მოხერხდა', err);\n      }\n    }\n    fetchBlog();\n  }, [id]);\n  const handleTitleChange = e => {\n    const {\n      value\n    } = e.target;\n    setData(prev => ({\n      ...prev,\n      title: {\n        ...prev.title,\n        [language]: value\n      }\n    }));\n  };\n  const handleEditorChange = (section, name, value) => {\n    setData(prev => ({\n      ...prev,\n      [section]: {\n        ...prev[section],\n        [name]: value\n      }\n    }));\n  };\n  const submit = async () => {\n    try {\n      if (id) {\n        await getApi.putData(`/gallery/${id}`, data);\n        alert('ბლოგი წარმატებით განახლდა');\n      } else {\n        await getApi.postData('/gallery', data);\n        alert('ბლოგი წარმატებით დაემატა');\n      }\n    } catch (error) {\n      alert('დაფიქსირდა შეცდომა');\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Content, {\n    title: \"\\u10D1\\u10DA\\u10DD\\u10D2\\u10D8\\u10E1 \\u10D3\\u10D0\\u10DB\\u10D0\\u10E2\\u10D4\\u10D1\\u10D0\",\n    language: language,\n    setLanguage: setLanguage,\n    children: [/*#__PURE__*/_jsxDEV(UploadWidget, {\n      title: \"\\u10DB\\u10D7\\u10D0\\u10D5\\u10D0\\u10E0\\u10D8 \\u10E4\\u10DD\\u10E2\\u10DD\",\n      setData: setData,\n      value: data.cover,\n      name: \"cover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Language, {\n      lang: language,\n      children: [/*#__PURE__*/_jsxDEV(CustomInput, {\n        title: \"\\u10E1\\u10D0\\u10D7\\u10D0\\u10E3\\u10E0\\u10D8\",\n        type: \"text\",\n        value: data.title[language],\n        name: \"title\",\n        placeholder: \"\\u10E8\\u10D4\\u10D8\\u10E7\\u10D5\\u10D0\\u10DC\\u10D4 \\u10E1\\u10D0\\u10D7\\u10D0\\u10E3\\u10E0\\u10D8\",\n        onChange: handleTitleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CustomEditor, {\n        section: \"desc\",\n        name: language,\n        value: data.desc[language],\n        onChange: handleEditorChange,\n        title: \"\\u10D0\\u10E6\\u10EC\\u10D4\\u10E0\\u10D0\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: submit,\n      children: \"\\u10E8\\u10D4\\u10DC\\u10D0\\u10EE\\u10D5\\u10D0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n_s(AddGallery, \"xWwN9K0WJirq6Q7nUtPDjmad22I=\", false, function () {\n  return [useParams];\n});\n_c = AddGallery;\nvar _c;\n$RefreshReg$(_c, \"AddGallery\");","map":{"version":3,"names":["React","useEffect","useState","CustomEditor","Content","Language","CustomInput","UploadWidget","getApi","useParams","jsxDEV","_jsxDEV","AddGallery","_s","language","setLanguage","id","data","setData","title","en","ka","ru","desc","cover","fetchBlog","_blog$title","_blog$title2","_blog$title3","_blog$desc","_blog$desc2","_blog$desc3","blog","getData","err","console","error","handleTitleChange","e","value","target","prev","handleEditorChange","section","name","submit","putData","alert","postData","children","fileName","_jsxFileName","lineNumber","columnNumber","lang","type","placeholder","onChange","onClick","_c","$RefreshReg$"],"sources":["/Users/davit/Desktop/Asociation/client/src/adminpanel/components/Gallery/Add.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport CustomEditor from '../CustomEditor/CustomEditor';\nimport Content from '../Content/Content';\nimport Language from '../Content/Language';\nimport CustomInput from '../CustomInput/CustomInput';\nimport UploadWidget from '../UploadWidget/UploadWidget';\nimport getApi from '../../../http/getApi';\nimport { useParams } from 'react-router';\n\nexport default function AddGallery() {\n  const [language, setLanguage] = useState('ka');\n  const { id } = useParams();\n\n  const [data, setData] = useState({\n    title: {\n      en: '',\n      ka: '',\n      ru: '',\n    },\n    desc: {\n      en: '',\n      ka: '',\n      ru: '',\n    },\n    cover: '',\n  });\n\n  useEffect(() => {\n    async function fetchBlog() {\n      if (!id) return;\n      try {\n        const blog = await getApi.getData(`/gallery/${id}`);\n        setData({\n          title: {\n            en: blog?.title?.en || '',\n            ka: blog?.title?.ka || '',\n            ru: blog?.title?.ru || '',\n          },\n          desc: {\n            en: blog?.desc?.en || '',\n            ka: blog?.desc?.ka || '',\n            ru: blog?.desc?.ru || '',\n          },\n          cover: blog?.cover || '',\n        });\n      } catch (err) {\n        console.error('ბლოგის ჩატვირთვა ვერ მოხერხდა', err);\n      }\n    }\n\n    fetchBlog();\n  }, [id]);\n\n  const handleTitleChange = (e) => {\n    const { value } = e.target;\n    setData((prev) => ({\n      ...prev,\n      title: {\n        ...prev.title,\n        [language]: value,\n      },\n    }));\n  };\n\n  const handleEditorChange = (section, name, value) => {\n    setData((prev) => ({\n      ...prev,\n      [section]: {\n        ...prev[section],\n        [name]: value,\n      },\n    }));\n  };\n\n  const submit = async () => {\n    try {\n      if (id) {\n        await getApi.putData(`/gallery/${id}`, data);\n        alert('ბლოგი წარმატებით განახლდა');\n      } else {\n        await getApi.postData('/gallery', data);\n        alert('ბლოგი წარმატებით დაემატა');\n      }\n    } catch (error) {\n      alert('დაფიქსირდა შეცდომა');\n      console.error(error);\n    }\n  };\n\n  return (\n    <Content title=\"ბლოგის დამატება\" language={language} setLanguage={setLanguage}>\n      <UploadWidget\n        title=\"მთავარი ფოტო\"\n        setData={setData}\n        value={data.cover}\n        name=\"cover\"\n      />\n\n      <Language lang={language}>\n        <CustomInput\n          title=\"სათაური\"\n          type=\"text\"\n          value={data.title[language]}\n          name=\"title\"\n          placeholder=\"შეიყვანე სათაური\"\n          onChange={handleTitleChange}\n        />\n\n        <CustomEditor\n          section=\"desc\"\n          name={language}\n          value={data.desc[language]}\n          onChange={handleEditorChange}\n          title=\"აღწერა\"\n        />\n      </Language>\n\n      <button onClick={submit}>შენახვა</button>\n    </Content>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}